import React, { useState, useEffect } from 'react';
import '../checklists/css/redblue.css';  // Assuming your styles are imported correctly
import './output.css';    // Import other styles
import redLogo from '../images/logos/red-logo.webp'; // Example imports for images
import blueLogo from '../images/logos/blue-logo.webp';
import zapdosIcon from '../images/icons/pokemon/gen1/redblue/zapdos-color.png'; 
import moltresIcon from '../images/icons/pokemon/gen1/redblue/moltres-color.png';
import articunoIcon from '../images/icons/pokemon/gen1/redblue/articuno-color.png';
// ...import other icons similarly

const Navbar = ({ onRedClick, onBlueClick }) => {
    return (
        <div className="navbar bg-white rounded-3xl shadow-lg mt-2 fixed top-0 flex items-center justify-between" style={{ width: '95%', zIndex: 1000, left: '50%', transform: 'translateX(-50%)' }}>
            <div className="flex items-center gap-4">
                <a href="../index.html" className="btn btn-ghost text-2xl"><span className="title">Progression Dex |</span></a>
                <div className="flex items-center gap-2">
                    <img id="red-logo" src={redLogo} className="w-20" alt="Red Logo" onClick={onRedClick} />
                    <img id="blue-logo" src={blueLogo} className="w-20" alt="Blue Logo" onClick={onBlueClick} />
                </div>
            </div>
        </div>
    );
};

const CheckboxItem = ({ id, label, tooltip, checked, onChange, iconSrc }) => (
    <div className="checkbox-item">
        <input id={id} type="checkbox" checked={checked} onChange={onChange} />
        {iconSrc && <img className="pokeicon small" src={iconSrc} alt={label} />}
        <label className="text-sm lg:tooltip" data-tip={tooltip} htmlFor={id}>{label}</label>
    </div>
);

const PokedexSection = ({ title, checkboxes }) => (
    <div className="wide-panel pokedex">
        <label className="panel-label">{title}</label>
        <div className="completepokedex">
            {checkboxes.map((checkbox, idx) => (
                <CheckboxItem key={idx} {...checkbox} />
            ))}
        </div>
    </div>
);

const Footer = () => {
    return (
        <footer className="text-sm">
            <ul>
                <li><a href="../index/index.html">Progression Dex</a></li>
                <li><a href="#">Twitter</a></li>
                <li><a href="https://github.com/yasingunaydiin">GitHub</a></li>
            </ul>
        </footer>
    );
};

const App = () => {
    const [checkboxes, setCheckboxes] = useState({
        zapdos: false,
        moltres: false,
        articuno: false,
        // Add other checkbox states...
    });

    const handleCheckboxChange = (e) => {
        const { id, checked } = e.target;
        setCheckboxes(prev => ({ ...prev, [id]: checked }));
    };

    useEffect(() => {
        const handleRedClick = () => {
            document.querySelector('.title').style.color = '#C23A22';
            document.querySelector('footer').style.background = '#C23A22';
            document.body.style.backgroundImage = 'url(../../images/patterns/pattern-red.png)';
            document.querySelectorAll('.panel-label').forEach(el => el.style.color = '#C23A22');
        };

        const handleBlueClick = () => {
            document.querySelector('.title').style.color = '#84ADD7';
            document.querySelector('footer').style.background = '#84ADD7';
            document.body.style.backgroundImage = 'url(../../images/patterns/pattern-blue.png)';
            document.querySelectorAll('.panel-label').forEach(el => el.style.color = '#84ADD7');
        };
    }, []);

    const pokedexCheckboxes = [
        { id: 'zapdos', label: 'Catch Zapdos', tooltip: 'Zapdos appears at the end of the Power Plant.', iconSrc: zapdosIcon, checked: checkboxes.zapdos, onChange: handleCheckboxChange },
        { id: 'moltres', label: 'Catch Moltres', tooltip: 'Moltres appears in the middle of the Victory Road.', iconSrc: moltresIcon, checked: checkboxes.moltres, onChange: handleCheckboxChange },
        { id: 'articuno', label: 'Catch Articuno', tooltip: 'Articuno appears at the bottom of Seafoam Islands.', iconSrc: articunoIcon, checked: checkboxes.articuno, onChange: handleCheckboxChange },
        // Add other items similarly...
    ];

    return (
        <div className="page-container" data-game="redblue">
            <Navbar onRedClick={handleRedClick} onBlueClick={handleBlueClick} />
            <PokedexSection title="Catch all Legendaries" checkboxes={pokedexCheckboxes} />
            {/* Add other sections similarly */}
            <Footer />
        </div>
    );
};

export default App;
